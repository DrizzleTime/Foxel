(function(i,$e,v,x){"use strict";var K={exports:{}},P={};var ae;function Me(){if(ae)return P;ae=1;var o=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(u,c,l){var h=null;if(l!==void 0&&(h=""+l),c.key!==void 0&&(h=""+c.key),"key"in c){l={};for(var d in c)d!=="key"&&(l[d]=c[d])}else l=c;return c=l.ref,{$$typeof:o,type:u,key:h,ref:c!==void 0?c:null,props:l}}return P.Fragment=s,P.jsx=r,P.jsxs=r,P}var ce;function Le(){return ce||(ce=1,K.exports=Me()),K.exports}var n=Le();const Oe={r:28,g:32,b:46},Ie=o=>{if(o.is_dir)return!1;if(typeof o.has_thumbnail=="boolean"&&o.has_thumbnail)return!0;const s=o.name.split(".").pop()?.toLowerCase();return s?["png","jpg","jpeg","gif","webp","bmp","avif","ico","tif","tiff","svg","heic","heif","arw","cr2","cr3","nef","rw2","orf","pef","dng"].includes(s):!1},Ae=(o,s,r=180,u=120)=>{const c=o.replace(/\/+$/,""),l=s.replace(/^\/+/,"");return`${c}/fs/thumb/${encodeURI(l)}?w=${r}&h=${u}&fit=cover`},Ne=o=>{const s=o.startsWith("/")?o:`/${o}`,r=s.lastIndexOf("/");return r<=0?"/":s.slice(0,r)||"/"},ue=(o,s)=>o==="/"||o===""?`/${s}`:`${o.replace(/\/$/,"")}/${s}`,ee=(o,s,r)=>Math.max(s,Math.min(r,o)),B=o=>{if(typeof o=="number")return o;if(typeof o!="string")return null;if(o.includes("/")){const[r,u]=o.split("/").map(c=>Number(c));if(!Number.isNaN(r)&&!Number.isNaN(u)&&u!==0)return r/u}const s=Number(o);return Number.isNaN(s)?null:s},De=o=>{if(typeof o!="number")return"-";const s=["B","KB","MB","GB","TB"];let r=o,u=0;for(;r>=1024&&u<s.length-1;)r/=1024,u+=1;return`${r.toFixed(u===0?0:1)} ${s[u]}`},Xe=o=>{if(typeof window>"u")return null;const s=window.__FOXEL_LAST_EXPLORER_PAGE__;if(!s)return null;const r=s.path===""?"/":s.path,u=r.endsWith("/")&&r!=="/"?r.slice(0,-1):r,c=o.endsWith("/")&&o!=="/"?o.slice(0,-1):o;return u!==c?null:s},Re=o=>{if(!o)return"-";try{return new Date(o*1e3).toLocaleString()}catch{return"-"}},te=o=>Math.max(0,Math.min(255,o)),E=(o,s,r)=>({r:te(o.r*(1-r)+s.r*r),g:te(o.g*(1-r)+s.g*r),b:te(o.b*(1-r)+s.b*r)}),w=(o,s)=>`rgba(${Math.round(o.r)}, ${Math.round(o.g)}, ${Math.round(o.b)}, ${s})`,Pe=o=>{try{const r=o.naturalWidth||1,u=o.naturalHeight||1,c=Math.min(1,720/Math.max(r,u)),l=Math.max(1,Math.floor(r*c)),h=Math.max(1,Math.floor(u*c)),d=document.createElement("canvas");d.width=l,d.height=h;const y=d.getContext("2d",{willReadFrequently:!0});if(!y)return{histogram:null,dominantColor:null};y.drawImage(o,0,0,l,h);const{data:a}=y.getImageData(0,0,l,h),p=new Array(256).fill(0),_=new Array(256).fill(0),N=new Array(256).fill(0);let D=0,O=0,Y=0,$=0;for(let k=0;k<a.length;k+=4)p[a[k]]+=1,_[a[k+1]]+=1,N[a[k+2]]+=1,D+=a[k],O+=a[k+1],Y+=a[k+2],$+=1;const C={r:p,g:_,b:N};if($===0)return{histogram:C,dominantColor:null};const ne={r:D/$,g:O/$,b:Y/$};return{histogram:C,dominantColor:ne}}catch{return{histogram:null,dominantColor:null}}},j={container:{width:"100%",height:"100%",boxSizing:"border-box",display:"grid",gridTemplateColumns:"minmax(0, 1fr) 320px",columnGap:0,color:"#fff",overflow:"hidden"},main:{position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 28px 80px rgba(0,0,0,0.55)",minHeight:0},mainBackdrop:{position:"absolute",inset:0},mainContent:{position:"relative",zIndex:1,display:"flex",flexDirection:"column",flex:1,padding:0,minHeight:0,minWidth:0},viewer:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",boxShadow:"0 24px 60px rgba(0,0,0,0.5)",touchAction:"none",minHeight:0},controls:{position:"absolute",bottom:16,left:"50%",transform:"translateX(-50%)",display:"flex",gap:16,padding:"8px 18px",borderRadius:24,alignItems:"center"},scaleBadge:{position:"absolute",bottom:64,left:16,color:"rgba(255,255,255,0.7)",fontSize:12,letterSpacing:.2},filmstripShell:{marginTop:0,padding:"3px 12px",boxShadow:"0 16px 42px rgba(0,0,0,0.52)"},filmstrip:{display:"flex",overflowX:"auto",gap:12,paddingBottom:4},sidePanel:{boxShadow:"0 28px 80px rgba(0,0,0,0.55)",padding:"20px 24px",display:"flex",flexDirection:"column",overflowY:"auto",minHeight:0},histogramCard:{padding:"12px 12px 18px",background:"rgba(0,0,0,0.34)",borderRadius:0},viewerCloseWrap:{position:"absolute",top:16,right:16,zIndex:2},viewerClose:{color:"#fff",background:"rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.25)",boxShadow:"0 8px 18px rgba(0,0,0,0.45)",borderRadius:"100%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center"}},Be={Previous:"上一张",Next:"下一张","Zoom out":"缩小","Zoom in":"放大","Rotate 90°":"旋转 90°",Reset:"重置","Fit to screen":"适应窗口","Failed to parse histogram":"无法解析直方图","Filmstrip · {count} images":"胶片带 · {count} 张","Page {page} / {totalPages}":"第 {page} 页 / 共 {totalPages} 页","No images":"暂无图片","Captured at {time}":"拍摄时间 {time}","Basic Info":"基本信息",Shooting:"拍摄参数",Device:"设备信息",Other:"其他",Histogram:"直方图","File name":"文件名","File size":"文件大小",Resolution:"分辨率","Color space":"颜色空间","Modified time":"修改时间",Path:"路径","Focal length":"焦距",Aperture:"光圈",Shutter:"快门",ISO:"ISO",Camera:"相机",Lens:"镜头","Captured at":"拍摄时间",Close:"关闭",Loading:"加载中","No content":"无可用内容","Load failed":"加载失败"},ze=window.__FOXEL_EXTERNALS__.i18n,{t:kt,useI18n:z}=ze.create({zh:Be}),We=({style:o,onPrev:s,onNext:r,onZoomIn:u,onZoomOut:c,onRotate:l,onReset:h,onFit:d,disableSwitch:y})=>{const{t:a}=z(),p=(_,N,D,O=!1)=>n.jsx(v.Tooltip,{title:_,children:n.jsx(v.Button,{shape:"circle",type:"text",icon:i.createElement(N),onClick:D,disabled:O,style:{color:"#fff"}})},_);return n.jsxs("div",{style:o,children:[p(a("Previous"),x.LeftOutlined,s,y),p(a("Zoom out"),x.ZoomOutOutlined,c),p(a("Zoom in"),x.ZoomInOutlined,u),p(a("Rotate 90°"),x.RotateRightOutlined,l),p(a("Reset"),x.ReloadOutlined,h),p(a("Fit to screen"),x.CompressOutlined,d),p(a("Next"),x.RightOutlined,r,y)]})},Ye=({shellStyle:o,listStyle:s,entries:r,activeEntry:u,onSelect:c,filmstripRefs:l,pageInfo:h,getThumbUrl:d})=>{const{t:y}=z();return n.jsxs("div",{style:o,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[n.jsx(v.Typography.Text,{style:{color:"rgba(255,255,255,0.72)",fontWeight:500},children:y("Filmstrip · {count} images",{count:r.length})}),h&&n.jsx(v.Typography.Text,{style:{color:"rgba(255,255,255,0.45)",fontSize:12},children:y("Page {page} / {totalPages}",{page:h.page,totalPages:Math.max(1,Math.ceil(h.total/h.pageSize))})})]}),n.jsxs("div",{style:s,children:[r.map(a=>{const p=a.name===u.name;return n.jsxs("div",{ref:_=>{l.current[a.name]=_},onClick:()=>c(a),style:{width:84,height:64,overflow:"hidden",border:p?"2px solid #4e9bff":"2px solid transparent",boxShadow:p?"0 0 0 4px rgba(78,155,255,0.28)":"0 10px 28px rgba(0,0,0,0.45)",cursor:"pointer",position:"relative",flex:"0 0 auto"},children:[n.jsx("img",{src:d(a),alt:a.name,style:{width:"100%",height:"100%",objectFit:"cover",filter:p?"saturate(1)":"saturate(0.65)"}}),p&&n.jsx("div",{style:{position:"absolute",bottom:4,left:6,right:6,padding:"2px 4px",background:"rgba(0,0,0,0.55)",color:"#fff",fontSize:10,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:a.name})]},`${a.name}-${a.mtime||""}`)}),r.length===0&&n.jsx("div",{style:{color:"rgba(255,255,255,0.45)"},children:y("No images")})]})]})},W=({children:o})=>n.jsx(v.Typography.Title,{level:5,style:{color:"#fff",fontSize:15,marginTop:24,marginBottom:12},children:o}),G=({items:o})=>{const s=o.filter(r=>r.value!==null&&r.value!==void 0&&r.value!=="");return n.jsx("div",{style:{display:"grid",gridTemplateColumns:"100px 1fr",rowGap:10,columnGap:12},children:s.map(r=>n.jsxs(i.Fragment,{children:[n.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6,color:"rgba(255,255,255,0.55)"},children:[r.icon&&n.jsx("span",{style:{display:"inline-flex",alignItems:"center"},children:r.icon}),n.jsx("span",{children:r.label})]}),n.jsx("span",{style:{color:"#fff",wordBreak:"break-all"},children:r.value})]},r.label))})},He=({data:o})=>{const{t:s}=z();if(!o)return n.jsx(v.Empty,{description:s("Failed to parse histogram"),image:v.Empty.PRESENTED_IMAGE_SIMPLE});const r=260,u=140,c=Math.max(...o.r,...o.g,...o.b,1),l=h=>h.map((d,y)=>{const a=y/255*r,p=u-d/c*u;return`${y===0?"M":"L"}${a.toFixed(2)},${p.toFixed(2)}`}).join(" ");return n.jsxs("svg",{width:r,height:u,viewBox:`0 0 ${r} ${u}`,style:{width:"100%"},children:[n.jsx("rect",{x:0,y:0,width:r,height:u,fill:"rgba(255,255,255,0.04)"}),n.jsx("path",{d:l(o.r),stroke:"rgba(255,99,132,0.88)",fill:"none",strokeWidth:1.3}),n.jsx("path",{d:l(o.g),stroke:"rgba(75,192,192,0.88)",fill:"none",strokeWidth:1.3}),n.jsx("path",{d:l(o.b),stroke:"rgba(54,162,235,0.88)",fill:"none",strokeWidth:1.3})]})},Ue=({style:o,histogramCardStyle:s,title:r,captureTime:u,basicList:c,shootingList:l,deviceList:h,miscList:d,histogram:y})=>{const{t:a}=z();return n.jsxs("aside",{style:o,children:[n.jsx(v.Typography.Title,{level:3,style:{color:"#fff",marginTop:6,wordBreak:"break-all"},children:r}),u&&n.jsx(v.Typography.Text,{style:{color:"rgba(255,255,255,0.6)"},children:a("Captured at {time}",{time:u})}),n.jsx(W,{children:a("Basic Info")}),n.jsx(G,{items:c}),l.some(p=>p.value)&&n.jsxs(n.Fragment,{children:[n.jsx(W,{children:a("Shooting")}),n.jsx(G,{items:l})]}),h.some(p=>p.value)&&n.jsxs(n.Fragment,{children:[n.jsx(W,{children:a("Device")}),n.jsx(G,{items:h})]}),d.some(p=>p.value)&&n.jsxs(n.Fragment,{children:[n.jsx(W,{children:a("Other")}),n.jsx(G,{items:d})]}),n.jsx(W,{children:a("Histogram")}),n.jsxs("div",{style:s,children:[n.jsx(He,{data:y}),n.jsxs("div",{style:{marginTop:12,display:"flex",gap:12,fontSize:12},children:[n.jsx("span",{style:{color:"rgba(255,99,132,0.88)"},children:"R"}),n.jsx("span",{style:{color:"rgba(75,192,192,0.88)"},children:"G"}),n.jsx("span",{style:{color:"rgba(54,162,235,0.88)"},children:"B"})]})]})]})},Ge=({filePath:o,entry:s,host:r})=>{const{React:u,foxelApi:c}=window.__FOXEL_EXTERNALS__,{t:l}=z(),h=o.startsWith("/")?o:`/${o}`,[d,y]=i.useState(s),[a,p]=i.useState(h),[_,N]=i.useState(),[D,O]=i.useState(!0),[Y,$]=i.useState(),[C,ne]=i.useState(null),[k,de]=i.useState(null),[ge,pe]=i.useState(null),[X,I]=i.useState(1),[xe,R]=i.useState({x:0,y:0}),[Ze,oe]=i.useState(0),[he,fe]=i.useState(!1),[M,me]=i.useState([]),[Ve,re]=i.useState(null),se=i.useRef(null),ye=i.useRef(null),T=i.useRef(null),H=i.useRef(null),F=i.useRef(!1),be=i.useRef({}),A=i.useMemo(()=>Ne(a),[a]),f=i.useMemo(()=>ge||Oe,[ge]),qe=i.useMemo(()=>{const e=E(f,{r:255,g:255,b:255},.18),t=E(f,{r:0,g:0,b:0},.62);return{...j.container,background:`linear-gradient(135deg, ${w(e,.78)} 0%, ${w(f,.86)} 48%, ${w(t,.96)} 100%)`}},[f]),Je=i.useMemo(()=>{const e=E(f,{r:255,g:255,b:255},.32),t=E(f,{r:0,g:0,b:0},.7);return{...j.mainBackdrop,background:`radial-gradient(circle at 18% 22%, ${w(e,.38)}, ${w(t,.94)} 68%)`}},[f]),Qe=i.useMemo(()=>{const e=E(f,{r:0,g:0,b:0},.45),t=E(f,{r:0,g:0,b:0},.65);return{...j.viewer,background:`linear-gradient(145deg, ${w(e,.7)} 0%, ${w(t,.92)} 100%)`,backdropFilter:"blur(28px)"}},[f]),Ke=i.useMemo(()=>{const e=E(f,{r:0,g:0,b:0},.52);return{...j.controls,background:w(e,.74),backdropFilter:"blur(18px)"}},[f]),et=i.useMemo(()=>{const e=E(f,{r:0,g:0,b:0},.56);return{...j.filmstripShell,background:w(e,.7),backdropFilter:"blur(22px)"}},[f]),tt=i.useCallback(e=>{const t=ue(A,e.name);return Ae(c.baseUrl,t,160,120)},[A,c.baseUrl]),nt=i.useMemo(()=>{const e=E(f,{r:0,g:0,b:0},.6),t=w(E(f,{r:255,g:255,b:255},.1),.28);return{...j.sidePanel,background:w(e,.8),backdropFilter:"blur(28px)",borderLeft:`1px solid ${t}`}},[f]),ot=i.useMemo(()=>{const e=E(f,{r:0,g:0,b:0},.55),t=w(E(f,{r:255,g:255,b:255},.12),.2);return{...j.histogramCard,background:w(e,.58),border:`1px solid ${t}`}},[f]);i.useEffect(()=>{const e=o.startsWith("/")?o:`/${o}`;y(s),p(e)},[s,o]),i.useEffect(()=>{let e=!1;O(!0),$(void 0),de(null),pe(null);const t=a.replace(/^\/+/,"");return Promise.all([c.vfs.getTempLinkToken(t),c.vfs.stat(a)]).then(([g,m])=>{e||(N(c.vfs.getTempPublicUrl(g.token)),ne(m),I(1),oe(0),R({x:0,y:0}))}).catch(g=>{e||$(g instanceof Error?g.message:"Load failed")}).finally(()=>{e||O(!1)}),()=>{e=!0}},[a,c]);const Z=i.useCallback(e=>{const t=Xe(e);if(t){const g=t.entries.filter(Ie),m=g.some(L=>L.name===d.name)?g:[...g,d];me(m),t.pagination?re({page:t.pagination.page,pageSize:t.pagination.page_size,total:t.pagination.total}):re(null);return}me([d]),re(null)},[d]);i.useEffect(()=>{Z(A)},[A,Z]),i.useEffect(()=>{const e=()=>Z(A);return window.addEventListener("foxel:file-explorer-page",e),()=>window.removeEventListener("foxel:file-explorer-page",e)},[A,Z]),i.useEffect(()=>{const e=be.current[d.name];e&&e.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},[d,M]);const V=i.useCallback(e=>{I(t=>{const g=ee(t*e,.08,10);return F.current=!0,window.setTimeout(()=>{F.current=!1},120),g})},[]),rt=()=>{oe(e=>(F.current=!0,window.setTimeout(()=>{F.current=!1},180),(e+90)%360))},ve=()=>{F.current=!0,window.setTimeout(()=>{F.current=!1},160),I(1),R({x:0,y:0}),oe(0)},st=()=>{ve()},we=e=>{const t=ue(A,e.name);y(e),p(t)},q=e=>{if(M.length<=1)return;const t=M.findIndex(m=>m.name===d.name);if(t===-1)return;const g=M[(t+e+M.length)%M.length];g&&we(g)};i.useEffect(()=>{const e=t=>{t.key==="ArrowRight"?(t.preventDefault(),q(1)):t.key==="ArrowLeft"?(t.preventDefault(),q(-1)):(t.key==="+"||t.key==="=")&&(t.ctrlKey||t.metaKey)?(t.preventDefault(),V(1.15)):(t.key==="-"||t.key==="_")&&(t.ctrlKey||t.metaKey)&&(t.preventDefault(),V(.85))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)});const lt=e=>{e.preventDefault();const t=se.current;if(!t)return;const g=t.getBoundingClientRect(),m=e.clientX-g.left-g.width/2,L=e.clientY-g.top-g.height/2;I(J=>{const Q=e.deltaY<0?1.12:.88,U=ee(J*Q,.08,10),Ce=U/J;return R(Fe=>({x:Fe.x-m*(Ce-1),y:Fe.y-L*(Ce-1)})),F.current=!0,window.setTimeout(()=>{F.current=!1},120),U})},it=e=>{e.button===0&&(e.preventDefault(),fe(!0),T.current={x:e.clientX,y:e.clientY})},at=e=>{if(!he||!T.current)return;e.preventDefault();const t=e.clientX-T.current.x,g=e.clientY-T.current.y;T.current={x:e.clientX,y:e.clientY},R(m=>({x:m.x+t,y:m.y+g}))},je=()=>{fe(!1),T.current=null},Se=(e,t)=>Math.hypot(e.clientX-t.clientX,e.clientY-t.clientY),ct=e=>{if(e.touches.length===1){const t=e.touches[0];T.current={x:t.clientX,y:t.clientY}}else e.touches.length===2&&(H.current=Se(e.touches[0],e.touches[1]))},ut=e=>{if(e.touches.length===1&&T.current){const t=e.touches[0],g=t.clientX-T.current.x,m=t.clientY-T.current.y;T.current={x:t.clientX,y:t.clientY},R(L=>({x:L.x+g,y:L.y+m}))}else if(e.touches.length===2&&H.current){const t=Se(e.touches[0],e.touches[1]),g=t/H.current;H.current=t,I(m=>ee(m*g,.08,10))}},dt=()=>{H.current=null,T.current=null},gt=e=>{e.preventDefault();const t=X>1.4?1:2.2,g=se.current;if(!g){I(t);return}const m=g.getBoundingClientRect(),L=e.clientX-m.left-m.width/2,J=e.clientY-m.top-m.height/2,Q=t/X;I(t),R(U=>({x:U.x-L*(Q-1),y:U.y-J*(Q-1)}))},pt=()=>{const e=ye.current;if(!e)return;const t=Pe(e);de(t.histogram),pe(t.dominantColor)},xt=`${(X*100).toFixed(X>=1?0:1)}%`,ht={maxWidth:"100%",maxHeight:"100%",transform:`translate(${xe.x}px, ${xe.y}px) scale(${X}) rotate(${Ze}deg)`,transition:F.current?"transform 0.18s cubic-bezier(.4,.8,.4,1)":void 0,cursor:he?"grabbing":X>1?"grab":"zoom-in",willChange:"transform"},ft=C?.exif??{},S={fontSize:15,color:"rgba(255,255,255,0.62)"},b=e=>{const t=ft[e];return typeof t=="string"||typeof t=="number"?t:null},mt=(()=>{const e=b("37386")||b("37377"),t=B(e??void 0);return t?`${t.toFixed(1)} mm`:null})(),yt=(()=>{const e=b("33437")||b("37378"),t=B(e??void 0);return t?`f/${t.toFixed(1)}`:null})(),bt=(()=>{const e=b("33434"),t=B(e??void 0);return t?t>=1?`${t.toFixed(1)} s`:`1/${Math.max(1,Math.round(1/t))}`:null})(),Ee=b("34855")||b("34864"),Te=B(b("40962")??void 0),_e=B(b("40963")??void 0),vt=b("40961"),le=b("271"),ke=b("272"),wt=b("42036"),ie=b("36867")||b("36868")||b("306"),jt=[{label:l("File name"),value:d.name,icon:n.jsx(x.FileOutlined,{style:S})},{label:l("File size"),value:De(C?.size),icon:n.jsx(x.DatabaseOutlined,{style:S})},{label:l("Resolution"),value:Te&&_e?`${Te} × ${_e}`:null,icon:n.jsx(x.ExpandOutlined,{style:S})},{label:l("Color space"),value:vt||null,icon:n.jsx(x.BgColorsOutlined,{style:S})},{label:l("Modified time"),value:C?.mtime?Re(C.mtime):null,icon:n.jsx(x.ClockCircleOutlined,{style:S})},{label:l("Path"),value:typeof C?.path=="string"?C.path:a,icon:n.jsx(x.FolderOutlined,{style:S})}],St=[{label:l("Focal length"),value:mt,icon:n.jsx(x.AimOutlined,{style:S})},{label:l("Aperture"),value:yt,icon:n.jsx(x.BulbOutlined,{style:S})},{label:l("Shutter"),value:bt,icon:n.jsx(x.ThunderboltOutlined,{style:S})},{label:l("ISO"),value:Ee!=null?String(Ee):null,icon:n.jsx(x.AlertOutlined,{style:S})}],Et=[{label:l("Camera"),value:ke?`${le?`${le} `:""}${ke}`:le||null,icon:n.jsx(x.CameraOutlined,{style:S})},{label:l("Lens"),value:wt||null,icon:n.jsx(x.ApiOutlined,{style:S})}],Tt=[{label:l("Captured at"),value:ie,icon:n.jsx(x.FieldTimeOutlined,{style:S})}],_t=n.jsx(We,{style:Ke,onPrev:()=>q(-1),onNext:()=>q(1),onZoomIn:()=>V(1.18),onZoomOut:()=>V(.82),onRotate:rt,onReset:ve,onFit:st,disableSwitch:M.length<=1});return n.jsxs("div",{style:qe,children:[n.jsxs("section",{style:j.main,children:[n.jsx("div",{style:Je}),n.jsxs("div",{style:j.mainContent,children:[n.jsxs("div",{ref:se,style:Qe,onWheel:lt,onMouseDown:it,onMouseMove:at,onMouseLeave:je,onMouseUp:je,onDoubleClick:gt,onTouchStart:ct,onTouchMove:ut,onTouchEnd:dt,children:[n.jsx("div",{style:j.viewerCloseWrap,children:n.jsx(v.Tooltip,{title:l("Close"),children:n.jsx(v.Button,{type:"text",icon:n.jsx(x.CloseOutlined,{}),onClick:r.close,style:j.viewerClose})})}),D?n.jsx(v.Spin,{tip:l("Loading")}):Y?n.jsx(v.Typography.Text,{type:"danger",children:l(Y)}):_?n.jsx("img",{ref:ye,src:_,alt:d.name,onLoad:pt,draggable:!1,crossOrigin:"anonymous",style:ht}):n.jsx(v.Typography.Text,{children:l("No content")}),n.jsx("div",{style:j.scaleBadge,children:xt}),_t]}),n.jsx(Ye,{shellStyle:et,listStyle:j.filmstrip,entries:M,activeEntry:d,onSelect:we,filmstripRefs:be,pageInfo:Ve,getThumbUrl:tt})]})]}),n.jsx(Ue,{style:nt,histogramCardStyle:ot,title:d.name,captureTime:typeof ie=="string"?ie:null,basicList:jt,shootingList:St,deviceList:Et,miscList:Tt,histogram:k})]})};if(!window.__FOXEL_EXTERNALS__)throw console.error("[image-viewer] Foxel externals not found"),new Error("Foxel externals not found");window.FoxelRegister({mount:(o,s)=>{const r=$e.createRoot(o);return r.render(i.createElement(Ge,s)),()=>r.unmount()}})})(window.__FOXEL_EXTERNALS__.React,window.__FOXEL_EXTERNALS__.ReactDOM,window.__FOXEL_EXTERNALS__.antd,window.__FOXEL_EXTERNALS__.AntdIcons);
